<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Documents - Atlas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .drop-zone {
            transition: all 0.3s ease;
            background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='16' ry='16' stroke='%239333ea' stroke-width='2' stroke-dasharray='8' stroke-dashoffset='0' stroke-linecap='round'/%3e%3c/svg%3e");
        }
        .drop-zone.active {
            background-color: rgba(147, 51, 234, 0.05);
            transform: scale(1.02);
        }
        .document-card {
            transition: all 0.3s ease;
        }
        .document-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        .status-badge {
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .scanner-line {
            animation: scan 2s linear infinite;
        }
        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(200px); }
        }
        .pulse-border {
            animation: pulse-border 2s infinite;
        }
        @keyframes pulse-border {
            0% {
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-10">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <button class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <span class="font-semibold text-gray-800">Document Upload</span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-mobile-alt text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mx-auto px-6 py-8">
        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Left Column - Atlas Assistant -->
            <div class="lg:col-span-1 space-y-6">
                <!-- Atlas Chat -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-robot text-white"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Atlas</h3>
                            <p class="text-xs text-gray-500">AI Document Assistant</p>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="bg-purple-50 rounded-xl p-4">
                            <p class="text-sm text-gray-700">
                                Now I need to verify your identity. Please upload a clear photo of your government-issued ID (Driver's License or Passport).
                            </p>
                        </div>

                        <div class="bg-green-50 border border-green-200 rounded-xl p-4">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
                                <div>
                                    <p class="text-sm font-medium text-green-900">Quick Tip</p>
                                    <p class="text-xs text-green-700 mt-1">
                                        Use your phone! Click the camera icon for a magic link that syncs photos directly to your computer.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                            <div class="flex items-start space-x-2">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mt-0.5"></i>
                                <div>
                                    <p class="text-sm font-medium text-yellow-900">Important</p>
                                    <p class="text-xs text-yellow-700 mt-1">
                                        I'll check your photo quality in real-time to prevent rejections!
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Magic Camera Widget -->
                <div class="bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl shadow-lg p-6 text-white">
                    <h3 class="text-lg font-semibold mb-4">
                        <i class="fas fa-camera mr-2"></i>Magic Camera
                    </h3>
                    <p class="text-sm text-purple-100 mb-4">
                        Take photos with your phone and they'll appear here instantly!
                    </p>
                    <div class="bg-white bg-opacity-20 rounded-xl p-4">
                        <div class="w-32 h-32 mx-auto bg-white bg-opacity-30 rounded-xl flex items-center justify-center">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect x='10' y='10' width='80' height='80' rx='10' fill='%23fff' stroke='%23fff' stroke-width='2'/%3E%3Cpath d='M20 40h60v40H20z' fill='%23933A5A'/%3E%3Ccircle cx='50' cy='30' r='10' fill='%23fff'/%3E%3C/svg%3E" alt="QR Code" class="rounded">
                        </div>
                        <p class="text-center text-sm mt-4">Scan with your phone</p>
                    </div>
                    <button onclick="showQR()" class="w-full mt-4 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg py-2 text-sm font-medium transition">
                        Show QR Code
                    </button>
                </div>
            </div>

            <!-- Right Column - Document Upload -->
            <div class="lg:col-span-2">
                <!-- Required Documents -->
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">Required Documents</h2>

                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Government ID -->
                        <div class="document-card border-2 border-purple-300 rounded-xl p-6 pulse-border">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-id-card text-purple-600 text-lg"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-800">Government ID</h3>
                                        <p class="text-xs text-gray-500">Driver's License or Passport</p>
                                    </div>
                                </div>
                                <span class="status-badge bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">
                                    Required
                                </span>
                            </div>

                            <!-- Drop Zone for ID Front -->
                            <div class="mb-4">
                                <label class="text-sm font-medium text-gray-700 mb-2 block">Front Side</label>
                                <div class="drop-zone border-2 border-dashed border-purple-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500"
                                     ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" onclick="document.getElementById('idFront').click()">
                                    <i class="fas fa-cloud-upload-alt text-purple-400 text-3xl mb-3"></i>
                                    <p class="text-sm text-gray-600 mb-1">Drop files here or click to upload</p>
                                    <p class="text-xs text-gray-400">PNG, JPG up to 10MB</p>
                                    <input type="file" id="idFront" class="hidden" accept="image/*" onchange="handleFileSelect(this, 'id-front-preview')">
                                </div>
                                <div id="id-front-preview" class="hidden mt-3">
                                    <img src="" alt="ID Front" class="w-full h-40 object-cover rounded-lg">
                                    <div class="mt-2 flex items-center justify-between">
                                        <span class="text-sm text-green-600">
                                            <i class="fas fa-check-circle mr-1"></i>Uploaded successfully
                                        </span>
                                        <button onclick="removeFile('id-front-preview')" class="text-red-500 hover:text-red-700 text-sm">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Drop Zone for ID Back -->
                            <div>
                                <label class="text-sm font-medium text-gray-700 mb-2 block">Back Side</label>
                                <div class="drop-zone border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500"
                                     ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" onclick="document.getElementById('idBack').click()">
                                    <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl mb-3"></i>
                                    <p class="text-sm text-gray-600 mb-1">Drop files here or click to upload</p>
                                    <p class="text-xs text-gray-400">PNG, JPG up to 10MB</p>
                                    <input type="file" id="idBack" class="hidden" accept="image/*" onchange="handleFileSelect(this, 'id-back-preview')">
                                </div>
                                <div id="id-back-preview" class="hidden mt-3">
                                    <img src="" alt="ID Back" class="w-full h-40 object-cover rounded-lg">
                                    <div class="mt-2 flex items-center justify-between">
                                        <span class="text-sm text-green-600">
                                            <i class="fas fa-check-circle mr-1"></i>Uploaded successfully
                                        </span>
                                        <button onclick="removeFile('id-back-preview')" class="text-red-500 hover:text-red-700 text-sm">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Proof of Address -->
                        <div class="document-card border-2 border-gray-200 rounded-xl p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-home text-gray-600 text-lg"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-800">Proof of Address</h3>
                                        <p class="text-xs text-gray-500">Utility Bill or Bank Statement</p>
                                    </div>
                                </div>
                                <span class="status-badge bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">
                                    Optional
                                </span>
                            </div>

                            <div class="drop-zone border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500"
                                 ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" onclick="document.getElementById('addressProof').click()">
                                <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl mb-3"></i>
                                <p class="text-sm text-gray-600 mb-1">Upload proof of address</p>
                                <p class="text-xs text-gray-400">PDF, PNG, JPG up to 10MB</p>
                                <input type="file" id="addressProof" class="hidden" accept=".pdf,image/*" onchange="handleFileSelect(this, 'address-proof-preview')">
                            </div>
                            <div id="address-proof-preview" class="hidden mt-3">
                                <img src="" alt="Address Proof" class="w-full h-40 object-cover rounded-lg">
                                <div class="mt-2 flex items-center justify-between">
                                    <span class="text-sm text-green-600">
                                        <i class="fas fa-check-circle mr-1"></i>Uploaded successfully
                                    </span>
                                    <button onclick="removeFile('address-proof-preview')" class="text-red-500 hover:text-red-700 text-sm">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Business Registration -->
                        <div class="document-card border-2 border-gray-200 rounded-xl p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-contract text-gray-600 text-lg"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-800">Business Registration</h3>
                                        <p class="text-xs text-gray-500">Articles of Incorporation</p>
                                    </div>
                                </div>
                                <span class="status-badge bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">
                                    For LLCs/Corps
                                </span>
                            </div>

                            <div class="drop-zone border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500"
                                 ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" onclick="document.getElementById('businessReg').click()">
                                <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl mb-3"></i>
                                <p class="text-sm text-gray-600 mb-1">Upload business documents</p>
                                <p class="text-xs text-gray-400">PDF up to 10MB</p>
                                <input type="file" id="businessReg" class="hidden" accept=".pdf" onchange="handleFileSelect(this, 'business-reg-preview')">
                            </div>
                            <div id="business-reg-preview" class="hidden mt-3">
                                <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-file-pdf text-red-500 text-2xl"></i>
                                    <div class="flex-1">
                                        <p class="text-sm font-medium text-gray-700">document.pdf</p>
                                        <p class="text-xs text-gray-500">2.4 MB</p>
                                    </div>
                                    <button onclick="removeFile('business-reg-preview')" class="text-red-500 hover:text-red-700">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Voided Check -->
                        <div class="document-card border-2 border-gray-200 rounded-xl p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-money-check text-gray-600 text-lg"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-800">Voided Check</h3>
                                        <p class="text-xs text-gray-500">For bank account verification</p>
                                    </div>
                                </div>
                                <span class="status-badge bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">
                                    Optional
                                </span>
                            </div>

                            <div class="drop-zone border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-purple-500"
                                 ondrop="dropHandler(event)" ondragover="dragOverHandler(event)" onclick="document.getElementById('voidedCheck').click()">
                                <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl mb-3"></i>
                                <p class="text-sm text-gray-600 mb-1">Upload voided check</p>
                                <p class="text-xs text-gray-400">PNG, JPG up to 10MB</p>
                                <input type="file" id="voidedCheck" class="hidden" accept="image/*" onchange="handleFileSelect(this, 'voided-check-preview')">
                            </div>
                            <div id="voided-check-preview" class="hidden mt-3">
                                <img src="" alt="Voided Check" class="w-full h-40 object-cover rounded-lg">
                                <div class="mt-2 flex items-center justify-between">
                                    <span class="text-sm text-green-600">
                                        <i class="fas fa-check-circle mr-1"></i>Uploaded successfully
                                    </span>
                                    <button onclick="removeFile('voided-check-preview')" class="text-red-500 hover:text-red-700 text-sm">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Document Analysis Status -->
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6" id="analysis-status" style="display:none;">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <i class="fas fa-search text-blue-500 text-xl"></i>
                            <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 rounded-full animate-ping"></div>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-blue-900">Atlas is analyzing your documents...</p>
                            <div class="mt-2 bg-white rounded-lg p-2">
                                <div class="h-2 bg-blue-100 rounded-full overflow-hidden">
                                    <div class="h-full bg-blue-500 rounded-full scanner-line"></div>
                                </div>
                            </div>
                            <p class="text-xs text-blue-700 mt-2">Checking image quality, extracting information, verifying authenticity...</p>
                        </div>
                    </div>
                </div>

                <!-- Success Message -->
                <div class="bg-green-50 border border-green-200 rounded-xl p-6" id="success-message" style="display:none;">
                    <div class="flex items-start space-x-3">
                        <i class="fas fa-check-circle text-green-500 text-xl mt-0.5"></i>
                        <div>
                            <p class="font-semibold text-green-900">All documents look great!</p>
                            <p class="text-sm text-green-700 mt-1">
                                I've successfully processed your documents. Your ID is clear and all information is readable. You're ready to proceed to the next step!
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex justify-between">
                    <button class="px-6 py-3 text-gray-600 hover:text-gray-800 font-medium">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Previous
                    </button>
                    <button onclick="continueApplication()" class="bg-purple-600 text-white px-8 py-3 rounded-xl hover:bg-purple-700 transition font-medium">
                        Continue Application
                        <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Handoff Modal -->
    <div id="qrModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center" style="display:none;">
        <div class="bg-white rounded-2xl p-8 max-w-md mx-4">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Scan with Your Phone</h3>
            <div class="bg-gray-100 p-8 rounded-xl mb-6">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Crect width='200' height='200' fill='%23fff'/%3E%3Cpath d='M10 10h60v60H10z' fill='%23000'/%3E%3Cpath d='M20 20h40v40H20z' fill='%23fff'/%3E%3Cpath d='M30 30h20v20H30z' fill='%23000'/%3E%3Cpath d='M130 10h60v60h-60z' fill='%23000'/%3E%3Cpath d='M140 20h40v40h-40z' fill='%23fff'/%3E%3Cpath d='M150 30h20v20h-20z' fill='%23000'/%3E%3Cpath d='M10 130h60v60H10z' fill='%23000'/%3E%3Cpath d='M20 140h40v40H20z' fill='%23fff'/%3E%3Cpath d='M30 150h20v20H30z' fill='%23000'/%3E%3Cpath d='M40 80h20v20H40z' fill='%23000'/%3E%3Cpath d='M80 40h20v20H80z' fill='%23000'/%3E%3Cpath d='M80 80h80v20H80z' fill='%23000'/%3E%3Cpath d='M80 100h20v40H80z' fill='%23000'/%3E%3Cpath d='M100 120h60v20h-60z' fill='%23000'/%3E%3Cpath d='M120 80h20v20h-20z' fill='%23000'/%3E%3Cpath d='M140 80h40v20h-40z' fill='%23000'/%3E%3Cpath d='M160 100h20v60h-20z' fill='%23000'/%3E%3Cpath d='M100 140h80v20h-80z' fill='%23000'/%3E%3Cpath d='M140 160h20v20h-20z' fill='%23000'/%3E%3C/svg%3E" alt="QR Code" class="mx-auto">
            </div>
            <p class="text-sm text-gray-600 text-center mb-4">
                Point your phone camera at this QR code<br>
                Your photos will sync automatically
            </p>
            <button onclick="closeQR()" class="w-full bg-purple-600 text-white py-3 rounded-xl hover:bg-purple-700 transition">
                Got it!
            </button>
        </div>
    </div>

    <script>
        let uploadedFiles = {};

        function dragOverHandler(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('active');
        }

        function dropHandler(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('active');

            if (ev.dataTransfer.items) {
                for (let i = 0; i < ev.dataTransfer.items.length; i++) {
                    if (ev.dataTransfer.items[i].kind === 'file') {
                        const file = ev.dataTransfer.items[i].getAsFile();
                        console.log('File dropped:', file);
                        // Handle the file
                    }
                }
            }
        }

        function handleFileSelect(input, previewId) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById(previewId);
                    if (file.type.startsWith('image/')) {
                        preview.querySelector('img').src = e.target.result;
                    }
                    preview.classList.remove('hidden');

                    // Check if ID is uploaded to trigger analysis
                    if (input.id === 'idFront' || input.id === 'idBack') {
                        checkAndAnalyze();
                    }
                };
                reader.readAsDataURL(file);
                uploadedFiles[previewId] = file;
            }
        }

        function removeFile(previewId) {
            document.getElementById(previewId).classList.add('hidden');
            delete uploadedFiles[previewId];
            checkAndAnalyze();
        }

        function checkAndAnalyze() {
            const hasIdFront = document.getElementById('id-front-preview').classList.contains('hidden') === false;
            const hasIdBack = document.getElementById('id-back-preview').classList.contains('hidden') === false;

            if (hasIdFront || hasIdBack) {
                // Show analysis status
                document.getElementById('analysis-status').style.display = 'block';

                // Simulate analysis
                setTimeout(() => {
                    document.getElementById('analysis-status').style.display = 'none';
                    if (hasIdFront && hasIdBack) {
                        document.getElementById('success-message').style.display = 'block';
                    }
                }, 3000);
            }
        }

        function showQR() {
            document.getElementById('qrModal').style.display = 'flex';
        }

        function closeQR() {
            document.getElementById('qrModal').style.display = 'none';
        }

        function continueApplication() {
            alert('Proceeding to review...');
        }
    </script>
</body>
</html>